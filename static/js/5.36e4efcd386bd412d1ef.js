webpackJsonp([5],{MB6G:function(e,a){},TB7M:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=t("Dd8w"),s=t.n(n),r=t("NYxO"),l={data:function(){return{selected:!1,user_name:"vfdfv",full_name:"",password:"",is_login:"",nameState:null,options:[{value:!0,text:"true"},{value:!1,text:"false"}],id_update:"",name_update:"",pass_update:"",fields:[{key:"username",label:"User_name"},{key:"fullname",label:"Full_name"},{key:"is_login",label:"Is Login"},{key:"actions",label:"Actions"}]}},mounted:function(){this.$store.dispatch("loadManagers")},computed:s()({},Object(r.c)(["managers"]),Object(r.b)(["is_managers"])),methods:{Update:function(){console.log();var e=new FormData;e.append("fullname",this.full_name),e.append("password",this.password),e.append("is_login",this.selected),this.$store.dispatch("updateManagers",{id:this.id_update,data:e})},jsUcfirst:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},checkFormValidity:function(){var e=this.$refs.form.checkValidity();return this.nameState=e,e},resetModal:function(){this.full_name="",this.user_name="",this.password="",this.nameState=null},handleOk:function(e){this.handleSubmit(e)},handleUpdate:function(e,a,t){this.$refs["modal-update"].show(),this.id_update=e,this.name_update=a,this.pass_update=t},handleSubmit:function(e){if(this.checkFormValidity()){var a=new FormData;a.append("username",this.user_name),a.append("fullname",this.full_name),a.append("password",this.password),a.append("is_login",!1),a.append("email","test@gmail.com"),this.$store.dispatch("addManagers",a)}else e.preventDefault()},handleDelete:function(e){confirm("Are you sure ?")&&this.$store.dispatch("delManagers",e)}}},i={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"table"},[t("div",{staticClass:"head"},[t("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-prevent-closing",modifiers:{"modal-prevent-closing":!0}}],staticClass:"button",attrs:{variant:"success"}},[e._v("\n      Add\n    ")]),e._v(" "),t("h1",[e._v("\n      Users Management\n    ")])],1),e._v(" "),t("b-container",{attrs:{fluid:""}},[t("b-table",{attrs:{items:e.is_managers,fields:e.fields,stacked:"md","show-empty":"",small:""},scopedSlots:e._u([{key:"cell(user_name)",fn:function(a){return[e._v("\n        "+e._s(e.jsUcfirst(a.value))+"\n      ")]}},{key:"cell(actions)",fn:function(a){return[t("b-button",{staticClass:"mr-1",attrs:{variant:"outline-warning",size:"sm"},on:{click:function(t){return e.handleUpdate(a.item.username,a.item.fullname,a.item.password)}}},[e._v("\n          Update\n        ")]),e._v(" "),t("b-button",{attrs:{size:"sm",variant:"outline-danger"},on:{click:function(t){return e.handleDelete(a.item.username)}}},[e._v("\n          Delete\n        ")])]}}])})],1),e._v(" "),t("b-modal",{ref:"modal",attrs:{id:"modal-prevent-closing",title:"Create User"},on:{show:e.resetModal,hidden:e.resetModal,ok:e.handleOk}},[t("form",{ref:"form",on:{submit:function(a){return a.stopPropagation(),a.preventDefault(),e.handleSubmit(a)}}},[t("b-form-group",{attrs:{label:"User Name","label-for":"name-input","invalid-feedback":"User name is required",state:e.nameState}},[t("b-form-input",{attrs:{id:"name-input",state:e.nameState,required:""},model:{value:e.user_name,callback:function(a){e.user_name=a},expression:"user_name"}})],1)],1),e._v(" "),t("form",{ref:"form",on:{submit:function(a){return a.stopPropagation(),a.preventDefault(),e.handleSubmit(a)}}},[t("b-form-group",{attrs:{label:"Full name","label-for":"name-input","invalid-feedback":"Full name is required",state:e.nameState}},[t("b-form-input",{attrs:{id:"name-input2",state:e.nameState,required:""},model:{value:e.full_name,callback:function(a){e.full_name=a},expression:"full_name"}})],1)],1),e._v(" "),t("form",{ref:"form",on:{submit:function(a){return a.stopPropagation(),a.preventDefault(),e.handleSubmit(a)}}},[t("b-form-group",{attrs:{label:"Password","label-for":"name-input","invalid-feedback":"Password is required",state:e.nameState}},[t("b-form-input",{attrs:{type:"password",id:"name-input3",state:e.nameState,required:""},model:{value:e.password,callback:function(a){e.password=a},expression:"password"}})],1)],1)]),e._v(" "),t("b-modal",{ref:"modal-update",attrs:{id:"modal-edit-prevent-closing",title:"Update User"},on:{ok:e.Update}},[t("form",{ref:"form"},[t("b-form-group",{attrs:{label:"Is_login","label-for":"name-input4"}},[t("b-form-select",{attrs:{options:e.options},model:{value:e.selected,callback:function(a){e.selected=a},expression:"selected"}})],1)],1),e._v(" "),t("form",{ref:"form"},[t("b-form-group",{attrs:{label:"Full name","label-for":"name-input6"}},[t("b-form-input",{attrs:{id:"name-input6",placeholder:this.name_update},model:{value:e.full_name,callback:function(a){e.full_name=a},expression:"full_name"}})],1)],1),e._v(" "),t("form",{ref:"form"},[t("b-form-group",{attrs:{label:"Password","label-for":"name-input"}},[t("b-form-input",{attrs:{id:"name-input5",type:"password",placeholder:this.pass_update},model:{value:e.password,callback:function(a){e.password=a},expression:"password"}})],1)],1)])],1)},staticRenderFns:[]};var o=t("VU/8")(l,i,!1,function(e){t("MB6G")},null,null);a.default=o.exports}});
//# sourceMappingURL=5.36e4efcd386bd412d1ef.js.map