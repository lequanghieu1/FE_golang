webpackJsonp([8],{"C/+a":function(t,s){},nFf2:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("mtWM"),i=e.n(a),n={name:"Login",computed:{validationEmail:function(){return this.email?/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(this.email):null}},methods:{submit:function(){var t=this;if(this.success)if(this.success&&!this.reset)this.otp||(this.warn=!0),this.otp!=this.sub_otp?this.fail="OTP is invalid":(this.fail=!1,this.reset=!0);else{if(!this.passw||!this.repassw)return this.warn=!0;if(this.passw!==this.repassw)return this.fail="password and re-pass not match";var s=new FormData;s.append("email",this.email),s.append("password",this.passw),i.a.post("http://localhost:4000/update-pass",s).then(function(s){t.fail=!1,t.done=!0,setTimeout(function(){t.$router.push("/")},3e3)}).catch(function(t){})}else if(this.email){if(this.validationEmail){var e=new FormData;e.append("email",this.email),i.a.post("http://localhost:4000/forget-pass",e).then(function(s){t.success=!0,t.fail=!1,t.sub_otp=s.data,t.sub_otp=t.sub_otp/369}).catch(function(s){t.success=!1,t.fail="Your email don't match any user"})}}else this.warn=!0},nowarn:function(){this.warn=!1}},data:function(){return{email:"",passw:"",repassw:"",otp:"",sub_otp:"",success:!1,fail:"",warn:!1,reset:!1,done:!1}}},o={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"top"}),t._v(" "),e("div",{staticClass:"main"},[t.done?e("div",{staticClass:"alert alert-success alert-dismissible"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert"}},[t._v("\n        ×\n      ")]),t._v("\n      Successful registration, please login now...\n    ")]):t._e(),t._v(" "),t.fail?e("div",{staticClass:"alert alert-danger alert-dismissible"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert"}},[t._v("\n        ×\n      ")]),t._v("\n      "+t._s(this.fail)+"\n    ")]):t._e(),t._v(" "),t.warn?e("div",{staticClass:"alert alert-warning alert-dismissible"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert"}},[t._v("\n        ×\n      ")]),t._v("\n      "+t._s(t.success?"Please fill the otp":"Please fill the email")+"\n    ")]):t._e(),t._v(" "),t.success?t._e():e("b-form-input",{attrs:{required:"",placeholder:"email",state:t.validationEmail},on:{keyup:function(s){return t.nowarn()}},model:{value:t.email,callback:function(s){t.email=s},expression:"email"}}),t._v(" "),e("b-form-invalid-feedback",{staticClass:"err",attrs:{state:t.validationEmail}},[t._v("\n      email invalid\n    ")]),t._v(" "),t.success&&!t.reset?e("input",{directives:[{name:"model",rawName:"v-model",value:t.otp,expression:"otp"}],attrs:{type:"text",placeholder:"OTP"},domProps:{value:t.otp},on:{keyup:function(s){return t.nowarn()},input:function(s){s.target.composing||(t.otp=s.target.value)}}}):t._e(),t._v(" "),t.reset?e("input",{directives:[{name:"model",rawName:"v-model",value:t.passw,expression:"passw"}],attrs:{type:"password",placeholder:"password"},domProps:{value:t.passw},on:{keyup:function(s){return t.nowarn()},input:function(s){s.target.composing||(t.passw=s.target.value)}}}):t._e(),t._v(" "),t.reset?e("input",{directives:[{name:"model",rawName:"v-model",value:t.repassw,expression:"repassw"}],attrs:{type:"password",placeholder:"repeat pass"},domProps:{value:t.repassw},on:{keyup:function(s){return t.nowarn()},input:function(s){s.target.composing||(t.repassw=s.target.value)}}}):t._e(),t._v(" "),e("button",{staticClass:"submit",on:{click:function(s){return t.submit()}}},[t._v("\n      "+t._s(t.success?"Submit":"Send me OTP")+"\n    ")]),t._v(" "),e("div",{staticClass:"foot"},[e("router-link",{attrs:{to:"/login"}},[e("p",[t._v("Login now")])])],1)],1),t._v(" "),e("div",{staticClass:"bot"})])},staticRenderFns:[]};var r=e("VU/8")(n,o,!1,function(t){e("C/+a")},"data-v-35da62d0",null);s.default=r.exports}});
//# sourceMappingURL=8.f54fe787647a89d9688e.js.map